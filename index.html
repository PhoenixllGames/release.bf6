<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battlefield 6</title>
    <link rel="icon" href="icon.png" type="image/png">
    <meta name="description" content="Countdown to the release of Battlefield 6.">
    <meta property="og:title" content="Battlefield 6">
    <meta property="og:description" content="Release on October 10, 2025.">
    <meta property="og:image" content="icon.png">
    <meta property="og:url" content="https://phoenixllgames.github.io/release.bf6/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Battlefield 6">
    <meta name="twitter:description" content="Countdown to the release of Battlefield 6.">
    <meta name="twitter:image" content="icon.png">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            font-family: 'Arial', sans-serif;
            color: white;
            overflow: hidden;
        }

        body {
            display: flex;
            flex-direction: column;
            text-align: center;
        }

        main {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 0;
        }

        #bg-video {
            position: fixed;
            top: 0;
            left: 0;
            min-width: 100%;
            min-height: 100%;
            object-fit: cover;
            z-index: -1;
            filter: brightness(50%);
        }

        .content {
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .eapl-hero__logo {
            max-width: 100%;
            height: auto;
            margin-bottom: 2rem;
            animation: fadeIn 2s ease-in;
        }

        #countdown {
            font-size: 2rem;
            letter-spacing: 2px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .timer-block {
            display: flex;
            align-items: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            margin: 0 5px;
        }

        .timer-block .label { margin-left: 5px; }
        .timer-block .value { font-weight: bold; }
        .label-days::after { content: "Days"; }
        .label-hours::after { content: "Hours"; }
        .label-minutes::after { content: "Minutes"; }
        .label-seconds::after { content: "Seconds"; }

        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        .preorder-button, .labs-button {
            display: inline-block;
            padding: 15px 30px;
            background-color: #ff6200;
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        .labs-button { background-color: #0078f2; }
        .preorder-button:hover { background-color: #e55a00; }
        .labs-button:hover { background-color: #0066cc; }

        #news {
            flex-shrink: 0;
            background: transparent;
            padding: 15px;
            z-index: 1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            max-width: 1200px;
            margin: -40px auto 0 auto;
            overflow-y: auto;
            max-height: 30vh;
        }

        .news-article {
            width: 100%;
            height: 400px;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 5px;
            padding: 15px;
            text-align: left;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
            overflow: hidden;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .news-article:hover {
            transform: scale(1.05);
        }

        .news-article a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
        }

        .news-article small {
            color: #ccc;
            margin-top: 4px;
            display: block;
        }

        .news-article img {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
            border-radius: 4px;
            max-height: 150px;
            object-fit: cover;
        }

        .news-article p {
            margin-top: 10px;
            font-size: 0.9em;
            color: #f0f0f0;
            flex-grow: 1;
            overflow-y: auto;
            min-height: 0;
        }

        #news::-webkit-scrollbar,
        .news-article p::-webkit-scrollbar {
            width: 8px;
        }
        #news::-webkit-scrollbar-track,
        .news-article p::-webkit-scrollbar-track {
            background: transparent;
        }
        #news::-webkit-scrollbar-thumb,
        .news-article p::-webkit-scrollbar-thumb {
            background-color: transparent;
            border-radius: 4px;
        }
        #news:hover::-webkit-scrollbar-thumb,
        .news-article p:hover::-webkit-scrollbar-thumb {
            background-color: rgba(255, 98, 0, 0.8);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .content { padding: 10px; }
            .eapl-hero__logo { max-width: 70%; }
            #countdown { font-size: 1.2rem; gap: 5px; }
            .timer-block { padding: 8px; margin: 3px; flex-direction: row-reverse; }
            .timer-block .label { margin-left: 0; margin-right: 5px; }
            .label-days::after, .label-hours::after, .label-minutes::after, .label-seconds::after { content: none; }
            .label-days::before { content: "D: "; }
            .label-hours::before { content: "H: "; }
            .label-minutes::before { content: "M: "; }
            .label-seconds::before { content: "S: "; }
            .preorder-button, .labs-button { font-size: 1rem; padding: 10px 20px; }
            .button-container { gap: 10px; }

            #news {
                display: flex;
                flex-direction: row;
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                gap: 10px;
                padding: 15px;
                margin: -20px 0 0 0;
                max-height: 50vh;
            }
            .news-article {
                flex: 0 0 80%;
                scroll-snap-align: center;
                width: 300px;
                height: 450px;
            }
        }

        @media (max-width: 480px) {
            .eapl-hero__logo { max-width: 60%; }
            #countdown { font-size: 1rem; }
            .timer-block { padding: 6px; margin: 2px; }
            .preorder-button, .labs-button { font-size: 0.9rem; padding: 8px 15px; }
            .button-container { flex-direction: column; gap: 8px; }
            .news-article {
                flex: 0 0 90%;
                width: 280px;
                height: 420px;
            }
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    var filteredData = jsonData.filter(row => row.some(filledCell));
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            return gk_fileData[filename] || "";
        }
    </script>

    <video autoplay muted loop id="bg-video">
        <source src="https://media.contentapi.ea.com/content/dam/battlefield/videos/2025/07/bf-hub-hero-lg-homepage-16x9-xl.mp4" type="video/mp4">
        <source src="https://media.contentapi.ea.com/content/dam/battlefield/videos/2025/07/bf-hub-hero-lg-homepage-lg-md-3x2.mp4" type="video/mp4">
        <source src="https://media.contentapi.ea.com/content/dam/battlefield/videos/2025/07/bf-hub-hero-lg-homepage-stacked-sm-xs-1x1.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    
    <main>
        <div class="content">
            <picture>
                <source media="(max-width: 320px)" srcset="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop1x1.320w.png">
                <source media="(max-width: 767px)" srcset="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop1x1.767w.png">
                <source media="(max-width: 1023px)" srcset="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop3x2.1023w.png">
                <source media="(max-width: 1455px)" srcset="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop3x2.1455w.png">
                <source media="(min-width: 1456px)" srcset="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop16x9.1920w.png">
                <img class="eapl-hero__logo" src="https://media.contentapi.ea.com/content/dam/battlefield/common/logos/battlefield-6-logo.png.adapt.crop1x1.320w.png" alt="White Battlefield 6 logo">
            </picture>
            <div id="countdown">
                <div class="timer-block"><span class="value" id="days">00</span><span class="label label-days"></span></div>
                <div class="timer-block"><span class="value" id="hours">00</span><span class="label label-hours"></span></div>
                <div class="timer-block"><span class="value" id="minutes">00</span><span class="label label-minutes"></span></div>
                <div class="timer-block"><span class="value" id="seconds">00</span><span class="label label-seconds"></span></div>
            </div>
            <div class="button-container">
                <a href="https://store.steampowered.com/app/2807960/Battlefield_6/" class="preorder-button" target="_blank" title="Pre-Order Now">Pre-Order Now</a>
                <a href="https://www.ea.com/games/battlefield/battlefield-labs" class="labs-button" target="_blank" title="Battlefield Labs">Battlefield Labs</a>
            </div>
        </div>
    </main>
    
    <div id="news"></div>

    <script>
    async function loadNews() {
        try {
            const response = await fetch("https://bf-news-proxy.jshsh6.workers.dev/");
            const data = await response.json();
            const newsContainer = document.getElementById("news");

            data.filter(item => item.title && item.image && item.url).slice(0, 6).forEach(article => {
                const div = document.createElement("div");
                div.className = "news-article";
                div.innerHTML = `
                    <a href="${article.url}" target="_blank">
                        ${article.title}
                    </a>
                    <small>${article.date || ""}</small>
                    ${article.image ? `<img src="${article.image}" alt="News image">` : ""}
                    <p>${article.description || ""}</p>
                `;
                div.addEventListener('click', () => {
                    window.open(article.url, '_blank');
                });
                newsContainer.appendChild(div);
            });
        } catch (e) {
            console.error("Error loading news:", e);
        }
    }
    loadNews();
    </script>

    <script>
        const releaseDate = new Date('2025-10-10T15:00:00Z').getTime();
        const countdown = setInterval(() => {
            const now = new Date().getTime();
            const distance = releaseDate - now;
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            if (distance < 0) {
                clearInterval(countdown);
                document.getElementById('countdown').textContent = 'Game Released!';
            }
        }, 1000);
    </script>
</body>
</html>
